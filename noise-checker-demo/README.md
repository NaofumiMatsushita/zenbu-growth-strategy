# ZENBU騒音チェッカー - インタラクティブデモ

スマホアプリの全機能を再現したWebベースのデモです。ブラウザで開くだけで、実際のアプリの動作を体験できます。

## デモの起動方法

### 方法1: ローカルで開く（最も簡単）

1. `index.html` をダブルクリック、または
2. ブラウザにドラッグ&ドロップ

これだけでデモが起動します。サーバーは不要です。

### 方法2: ローカルサーバーで開く（推奨）

より正確な動作確認のため、簡易サーバーを使用することを推奨します。

#### Python 3の場合:
```bash
cd noise-checker-demo
python3 -m http.server 8000
```

その後、ブラウザで http://localhost:8000 を開きます。

#### Node.jsの場合:
```bash
cd noise-checker-demo
npx serve
```

### 方法3: GitHub Pagesにデプロイ

1. このリポジトリをGitHubにプッシュ
2. Settings → Pages → Source で `main` ブランチを選択
3. `noise-checker-demo` フォルダを公開

## デモの機能

### 1. ホーム画面（測定）
- **測定開始ボタン**: クリックして騒音測定をシミュレート
- **リアルタイムdB表示**: 45-75dBの範囲でランダムに変動
- **色分け表示**:
  - 🟢 緑（0-40dB）: 静か（図書館程度）
  - 🟡 黄（40-60dB）: やや騒音（普通の会話）
  - 🟠 橙（60-80dB）: 騒がしい（交通騒音）
  - 🔴 赤（80dB以上）: 非常に騒がしい
- **統計情報**: 最大/最小/平均dBをリアルタイム表示
- **測定時間**: タイマー表示
- **騒音レベルガイド**: 各レベルの目安を表示

### 2. 結果画面
- **総合評価**: 測定結果の判定
- **詳細データ**: 最大/平均/最小値、測定時間
- **時系列グラフ**: Canvas APIで描画されたリアルタイムグラフ
- **ホームに戻る**: ボタンでホーム画面に遷移

### 3. 履歴画面
- **フィルター機能**: すべて/騒音あり/静か で絞り込み
- **統計サマリー**: 総測定回数、騒音検出回数、平均dB
- **履歴リスト**: 過去の測定記録（サンプルデータ）
- **アイテムクリック**: 結果画面に遷移

### 4. 設定画面
- **ユーザー情報**: 氏名、部屋番号の入力フィールド
- **地域種別選択**: 住居地域/商業地域（環境基準が異なる）
- **アプリ情報**: バージョン、開発元の表示

### ナビゲーション
画面下部のタブバーで4つの画面を自由に切り替え可能:
- 🏠 測定（ホーム）
- ⏱ 履歴
- ⚙️ 設定

## 技術仕様

### ファイル構成

```
noise-checker-demo/
├── index.html      # アプリ構造とコンテンツ (280行)
├── styles.css      # スタイリングとアニメーション (810行)
├── script.js       # インタラクティブ機能 (346行)
└── README.md       # このファイル
```

### 主な技術

- **純粋なHTML/CSS/JavaScript** - フレームワーク不要
- **Canvas API** - 時系列グラフの描画
- **CSS Animations** - メーター、ボタンなどのアニメーション
- **Glassmorphism Design** - 半透明背景とぼかし効果
- **Material Icons** - Google Fontsから読み込み
- **Noto Sans JP** - 日本語Webフォント

### デザインシステム

```css
/* カラーパレット */
--background: #0a0e27;        /* ダークネイビー */
--primary: #4fc3f7;           /* シアンブルー */
--error: #ef5350;             /* レッド */
--surface: rgba(255,255,255,0.08);  /* 半透明白 */
--text-primary: #ffffff;      /* 白 */
--text-secondary: rgba(255,255,255,0.7);  /* 半透明白 */

/* タイポグラフィ */
font-family: 'Noto Sans JP', sans-serif;
```

### レスポンシブデザイン

- スマホフレーム: 375×812px（iPhone X/11/12/13サイズ）
- タブレット・PC: 中央配置でデモヘッダー表示
- モバイル: フルスクリーン表示に切り替え（480px以下）

## 動作確認済みブラウザ

- ✅ Google Chrome 90+
- ✅ Safari 14+
- ✅ Firefox 88+
- ✅ Microsoft Edge 90+

## カスタマイズ方法

### dB値の範囲を変更

`script.js` の `simulateMeasurement()` 関数を編集:

```javascript
function simulateMeasurement() {
    // この行を変更
    const baseDb = 45 + Math.random() * 30; // 45-75の範囲
    // 例: 30-60の範囲にする場合
    // const baseDb = 30 + Math.random() * 30;
}
```

### 色のしきい値を変更

`script.js` の `updateMeter()` 関数を編集:

```javascript
if (db < 40) {
    // 静か（緑）
} else if (db < 60) {
    // やや騒音（黄）
} else if (db < 80) {
    // 騒がしい（橙）
} else {
    // 非常に騒がしい（赤）
}
```

### グラフのスタイル変更

`script.js` の `drawChart()` 関数を編集:

```javascript
// 線の色
ctx.strokeStyle = '#4fc3f7';  // 変更可能

// 線の太さ
ctx.lineWidth = 4;  // 変更可能

// 塗りつぶしの透明度
ctx.fillStyle = 'rgba(79, 195, 247, 0.2)';  // 変更可能
```

## デモの動作フロー

1. **ページ読み込み**: ホーム画面が表示される
2. **測定開始**: マイクボタンをクリック
   - ボタンが「測定停止」に変化
   - タイマーがスタート（1秒ごとに更新）
   - dB値が1秒ごとにランダム生成（45-75dB）
   - メーターの色が変化
   - 統計情報が更新（最大/最小/平均）
   - グラフデータに追加
3. **測定停止**: 停止ボタンをクリック
   - 0.5秒後に自動的に結果画面に遷移
   - Canvas APIでグラフが描画される
4. **ナビゲーション**: タブバーで画面切り替え
   - 履歴画面: サンプルデータを表示
   - 設定画面: ユーザー情報と地域種別
5. **ホームに戻る**: 「ホームに戻る」ボタンまたはタブバー

## トラブルシューティング

### グラフが表示されない

- ブラウザのJavaScriptが有効になっているか確認
- コンソールエラーを確認（F12キーで開発者ツールを開く）

### アイコンが表示されない

- インターネット接続を確認（Google Fontsから読み込むため）
- オフライン環境の場合、`index.html` の以下の行をコメントアウト:
  ```html
  <!-- <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> -->
  ```

### スタイルが崩れる

- ブラウザのキャッシュをクリア（Cmd/Ctrl + Shift + R）
- `styles.css` が正しく読み込まれているか確認

## 実機アプリとの違い

| 機能 | デモ | 実機アプリ |
|------|------|-----------|
| 騒音測定 | ランダム値でシミュレート | 実際のマイクで測定 |
| データ保存 | なし（リロードで消える） | AsyncStorageに永続化 |
| グラフ | Canvas API | react-native-chart-kit |
| ナビゲーション | JavaScript | React Navigation |
| 音源推定 | 未実装 | AI音源推定（予定） |

## 次のステップ

実機アプリの開発環境セットアップは `../noise-checker-app/SETUP.md` を参照してください。

## ライセンス

Copyright © 2026 ZENBU株式会社

## サポート

質問や問題があれば、GitHubのIssuesで報告してください。
